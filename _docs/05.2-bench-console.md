---
title: Using Bench Console
layout: default
order: 5

prev_page: /docs/04-new-site/
prev_title: Creating a New Site

next_page: /docs/06-backup/
next_title: Backing Up Data

---


----------

### 1️ User & Password Management

-   **Set/Change a user password**

    ```python
    frappe.utils.password.update_password("Administrator", "new_password_here")

    ```

-   **Verify a password (hashed)**

    ```python
    from frappe.utils.password import check_password
    check_password("user@example.com", "password123")

    ```


----------

### 2️ API Keys & Secrets

-   **Generate API Key and Secret for a user**

    ```python
    user = frappe.get_doc("User", "Administrator")
    api_secret = frappe.generate_hash(length=15)
    user.api_key = frappe.generate_hash(length=15)
    user.api_secret = api_secret
    user.save()
    print("API Key:", user.api_key)
    print("API Secret:", api_secret)

    ```

-   **Fetch existing API key/secret**

    ```python
    user = frappe.get_doc("User", "Administrator")
    print(user.api_key, user.get_password("api_secret"))

    ```


----------

### 3️ Auth Tokens (OAuth / Session)

-   **Generate session login token**

    ```python
    from frappe.auth import get_logged_in_user
    frappe.set_user("Administrator")
    print(frappe.session.sid)

    ```

-   **Get current logged in user**

    ```python
    frappe.session.user

    ```


----------

### 4️ User Roles & Permissions

-   **Assign role**

    ```python
    user = frappe.get_doc("User", "user@example.com")
    user.append("roles", {"role": "System Manager"})
    user.save()

    ```

-   **Remove role**

    ```python
    user = frappe.get_doc("User", "user@example.com")
    user.remove_roles("System Manager")

    ```


----------

### 5️ Email & Notification Testing

-   **Send test email**

    ```python
    frappe.sendmail(recipients="test@example.com", subject="Hello", message="From bench console")

    ```

-   **Trigger notification**

    ```python
    from frappe.desk.doctype.notification_log.notification_log import enqueue_create_notification
    enqueue_create_notification(doc=frappe.get_doc("ToDo", "TASK0001"))

    ```


----------

### 6️ Security & Tokens

-   **Reset all API keys/secrets for a user**

    ```python
    user = frappe.get_doc("User", "user@example.com")
    user.api_key, user.api_secret = None, None
    user.save()

    ```

-   **Check login status / permissions**

    ```python
    frappe.has_permission("ToDo", "read", user="Administrator")

    ```


----------
